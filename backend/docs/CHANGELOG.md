# λ°±μ—”λ“ λ¦¬ν©ν† λ§ λ³€κ²½ μ‚¬ν•­

## π“‹ λ³€κ²½ κ°μ”

ν”„λ΅μ νΈ ν•µμ‹¬ λ¬Έμ„μ— λ…μ‹λ "κ³ μ „λ¬Έν•™ μ‚¬κ³ μ λ„ AI + μλ™ ν‰κ°€ μ‹μ¤ν…"μ„ κµ¬ν„ν•κΈ° μ„ν•΄ λ°±μ—”λ“λ¥Ό μ „λ©΄ λ¦¬ν©ν† λ§ν–μµλ‹λ‹¤.

## β… μ¶”κ°€λ νμΌ

### 1. ν•µμ‹¬ μ„λΉ„μ¤

- **`app/services/thought_inducer.py`** (NEW)
  - μ†ν¬λΌν‹± λ€ν™”λ²• κΈ°λ° μ‚¬κ³ μ λ„ μ—”μ§„
  - [μ‚¬κ³ μ λ„] + [μ‚¬κ³ λ΅κ·Έ] μλ™ μƒμ„±
  - Geminiλ¥Ό ν”„λ΅μ‹λ΅ μ‚¬μ© (ν–¥ν›„ Gemma 3 νμΈνλ‹ λ¨λΈλ΅ κµμ²΄)

- **`app/services/gemini_evaluator.py`** (NEW)
  - Gemini Pro κΈ°λ° μ§μ  ν‰κ°€ μ‹μ¤ν…
  - 3μ°¨μ› λ£¨λΈλ¦­: μ¶”λ΅ κΉμ΄, λΉ„νμ μ‚¬κ³ , λ¬Έν•™μ μ΄ν•΄
  - 5μ  μ²™λ„ ν‰κ°€ (κ°€μ¤‘μΉ 70%)

- **`app/services/language_analyzer.py`** (NEW)
  - μ–Έμ–΄ λ¶„μ„ κΈ°λ° μ •λ‰ ν‰κ°€ μ‹μ¤ν…
  - 6κ°€μ§€ μ§€ν‘: μ–΄νλ‹¤μ–‘μ„±, ν•µμ‹¬κ°λ…μ–΄, λ¬Έμ¥λ³µμ΅λ„, λ°λ³µν¨ν„΄, κ°μ •ν†¤, (μ ν•΄ν‘ν„)
  - TTR, MTLD κΈ°λ° μ–΄ν λ‹¤μ–‘μ„± λ¶„μ„
  - κ°€μ¤‘μΉ 30%

- **`app/services/integrated_evaluator.py`** (NEW)
  - μ§μ  + μ •λ‰ ν‰κ°€ ν†µν•©
  - μλ™ μ μ μ‚°μ¶ (100μ  λ§μ , A+~D λ“±κΈ‰)
  - κ°μΈ λ§μ¶¤ ν”Όλ“λ°± μλ™ μƒμ„±

### 2. API μ—”λ“ν¬μΈνΈ

- **`app/api/classical_literature.py`** (NEW)
  - `/classical-literature/dialogue`: μ‚¬κ³ μ λ„ λ€ν™” μƒμ„±
  - `/classical-literature/evaluate`: μΆ…ν•© ν‰κ°€
  - `/classical-literature/quick-evaluate`: λΉ λ¥Έ ν‰κ°€
  - `/classical-literature/health`: ν—¬μ¤ μ²΄ν¬

### 3. μ„¤μ • λ° λ¬Έμ„

- **`app/core/config.py`** (UPDATED)
  - GEMINI_API_KEY μ„¤μ • μ¶”κ°€
  - ν‰κ°€ κ°€μ¤‘μΉ μ„¤μ • (μ§μ  70%, μ •λ‰ 30%)

- **`requirements.txt`** (UPDATED)
  - google-generativeai μ¶”κ°€
  - konlpy μ¶”κ°€
  - sentence-transformers μ¶”κ°€
  - λ²„μ „ λ…μ‹λ΅ μ•μ •μ„± ν™•λ³΄

- **`README.md`** (NEW)
  - μ „μ²΄ μ‹μ¤ν… μ•„ν‚¤ν…μ² λ¬Έμ„ν™”
  - API μ‚¬μ© κ°€μ΄λ“
  - ν‰κ°€ μ‹μ¤ν… μƒμ„Έ μ„¤λ…

- **`.env.example`** (NEW)
  - ν™κ²½ λ³€μ μμ‹

## β μ‚­μ λ νμΌ (λ¶ν•„μ”ν• κΈ°λ¥)

λ‹¤μ νμΌλ“¤μ€ κ³ μ „λ¬Έν•™ μ‚¬κ³ μ λ„ μ‹μ¤ν…μ— ν•„μ”ν•μ§€ μ•μ•„ μ‚­μ ν–μµλ‹λ‹¤:

- ~~`app/services/learning_manager.py`~~ - Stage-Gate-Branch λ΅μ§ (λ¶ν•„μ”)
- ~~`app/services/study_session_service.py`~~ - λ³µμ΅ν• μ„Έμ… κ΄€λ¦¬ (λ¶ν•„μ”)
- ~~`app/api/study_sessions.py`~~ - μ„Έμ… API (λ¶ν•„μ”)
- ~~`app/api/evaluation_controller.py`~~ - μ™Έλ¶€ ν‰κ°€ μμ‹  (λ¶ν•„μ”)

### μ‚­μ  μ΄μ 

κ³ μ „λ¬Έν•™ μ‹μ¤ν…μ€:
1. **λ‹¨μν• μ”μ²­-μ‘λ‹µ ν¨ν„΄**μ„ μ‚¬μ© (λ³µμ΅ν• μ„Έμ… κ΄€λ¦¬ λ¶ν•„μ”)
2. **λ‚΄λ¶€ ν‰κ°€ μ‹μ¤ν…**μ„ μ‚¬μ© (μ™Έλ¶€ ν‰κ°€ μ—”μ§„ λ¶ν•„μ”)
3. **λ€ν™” μ¤‘μ‹¬**μ΄λ©° λ‹¨κ³„μ  μ§„ν–‰μ΄ μ•„λ‹ (Stage-Gate λ΅μ§ λ¶ν•„μ”)

## β οΈ λ³΄λ¥λ νμΌ (ν–¥ν›„ κ²°μ • ν•„μ”)

λ‹¤μ νμΌλ“¤μ€ ν„μ¬ μ‹μ¤ν…μ—μ„ μ‚¬μ©ν•μ§€ μ•μ§€λ§ ν–¥ν›„ ν™•μ¥μ„ μ„ν•΄ λ³΄μ΅΄:

- `app/db/models.py` - λ°μ΄ν„°λ² μ΄μ¤ λ¨λΈ
- `app/db/database.py`, `app/db/session.py` - DB μΈν”„λΌ
- `app/schemas/*.py` - μ¤ν‚¤λ§ μ •μ
- `app/repository/*.py` - λ¦¬ν¬μ§€ν† λ¦¬ ν¨ν„΄

### λ³΄λ¥ μ΄μ 

ν–¥ν›„ λ‹¤μ κΈ°λ¥μ„ μ¶”κ°€ν•  κ²½μ° ν•„μ”ν•  μ μμ:
- ν•™μƒ μ§„λ„ μ¶”μ 
- μ„Έμ… νμ¤ν† λ¦¬ μ €μ¥
- κµμ‚¬μ© λ¦¬ν¬νΈ μƒμ„±
- ν•™μµ λ¶„μ„ λ€μ‹λ³΄λ“

**μ¶”μ²:** ν„μ¬λ” μ‚¬μ©ν•μ§€ μ•μΌλ―€λ΅, ν”„λ΅μ νΈκ°€ μ•μ •ν™”λ ν›„ ν•„μ” μ—¬λ¶€λ¥Ό μ¬ν‰κ°€ν•κ³  λ¶ν•„μ”ν•λ©΄ μ‚­μ 

## π”„ λ³€κ²½λ νμΌ

### `app/main.py`

**λ³€κ²½ λ‚΄μ©:**
- μ•± νƒ€μ΄ν‹€ λ³€κ²½: "κ³ μ „λ¬Έν•™ μ‚¬κ³ μ λ„ AI ν•™μµ μ‹μ¤ν…"
- μƒμ„Έ μ„¤λ… μ¶”κ°€ (ν•µμ‹¬ κΈ°λ¥, μ°¨λ³„μ )
- λΌμ°ν„° λ³€κ²½: classical_literature_routerλ΅ κµμ²΄
- λ£¨νΈ μ—”λ“ν¬μΈνΈ μ‘λ‹µ κ°μ„ 

**Before:**
```python
app = FastAPI(
    title="AI ν•™μµ μ‹μ¤ν… λ°±μ—”λ“",
    description="Stage-Gate-Branch κΈ°λ° ν•™μµ νλ¦„ ν†µμ  μ‹μ¤ν…",
    version="1.0.0"
)
app.include_router(study_sessions_router)
app.include_router(evaluation_router)
```

**After:**
```python
app = FastAPI(
    title="κ³ μ „λ¬Έν•™ μ‚¬κ³ μ λ„ AI ν•™μµ μ‹μ¤ν…",
    description="...",  # μƒμ„Έ μ„¤λ… μ¶”κ°€
    version="2.0.0"
)
app.include_router(classical_literature_router)
```

## π“ μ‹μ¤ν… λΉ„κµ

### μ΄μ „ μ‹μ¤ν… (Stage-Gate-Branch)

```
ν•™μƒ λ‹µλ³€ μ μ¶
    β†“
κ·μΉ™ κΈ°λ° ν‰κ°€ (λ¬Έμ μ μ²΄ν¬)
    β†“
Stage μ „μ΄ λλ” Retry
```

**λ¬Έμ μ :**
- λ‹¨μ κ·μΉ™ κΈ°λ° ν‰κ°€ (λ¬Έμ μλ§ μ²΄ν¬)
- μ‚¬κ³  κ³Όμ • ν‰κ°€ μ—†μ
- κ°μΈ λ§μ¶¤ ν”Όλ“λ°± λ¶€μ¬

### μƒ μ‹μ¤ν… (Classical Literature AI)

```
ν•™μƒ μ§λ¬Έ
    β†“
μ‚¬κ³ μ λ„ λ€ν™” μƒμ„± (μ†ν¬λΌν‹±)
    β†“
ν•™μƒ λ‹µλ³€
    β†“
μ§μ  ν‰κ°€ (Gemini 70%) + μ •λ‰ ν‰κ°€ (μ–Έμ–΄λ¶„μ„ 30%)
    β†“
ν†µν•© μ μ + κ°μΈ λ§μ¶¤ ν”Όλ“λ°±
```

**μ¥μ :**
- AI κΈ°λ° μ§€λ¥ν• ν‰κ°€
- μ‚¬κ³  κ³Όμ • μ λ„ λ° λ΅κΉ…
- λ‹¤μ°¨μ› ν‰κ°€ (μ§μ  + μ •λ‰)
- μλ™ ν”Όλ“λ°± μƒμ„±

## π― ν•µμ‹¬ κ°μ„ μ‚¬ν•­

1. **μ‚¬κ³ μ λ„ μ‹μ¤ν…**
   - μ§μ ‘ λ‹µμ„ μ£Όμ§€ μ•κ³  μ§λ¬Έμ„ ν†µν•΄ ν•™μƒ μ¤μ¤λ΅ μƒκ°ν•λ„λ΅ μ λ„
   - μ†ν¬λΌν‹± λ€ν™”λ²• μ μ©

2. **κ³ κΈ‰ ν‰κ°€ μ‹μ¤ν…**
   - Gemini κΈ°λ° μ§μ  ν‰κ°€ (μ¶”λ΅ κΉμ΄, λΉ„νμ μ‚¬κ³ , λ¬Έν•™μ μ΄ν•΄)
   - μ–Έμ–΄ λ¶„μ„ κΈ°λ° μ •λ‰ ν‰κ°€ (6κ°€μ§€ μ§€ν‘)
   - 70:30 κ°€μ¤‘μΉ ν†µν•©

3. **κ°μΈν™”**
   - ν•™μƒλ³„ κ°•μ κ³Ό μ•½μ  μλ™ λ¶„μ„
   - λ§μ¶¤ν• ν”Όλ“λ°± μƒμ„±
   - κµ¬μ²΄μ  κ°μ„  λ°©ν–¥ μ μ‹

4. **ν™•μ¥μ„±**
   - λ¨λ“ν• κµ¬μ΅°λ΅ λ‹¤λ¥Έ κ³Όλ© μ μ© κ°€λ¥
   - ν‰κ°€ κΈ°μ¤€ μ»¤μ¤ν„°λ§μ΄μ§• κ°€λ¥

## π€ λ‹¤μ λ‹¨κ³„

### Phase 1 (μ™„λ£)
- β… λ°±μ—”λ“ λ¦¬ν©ν† λ§
- β… μ‚¬κ³ μ λ„ μ—”μ§„ κµ¬ν„
- β… ν†µν•© ν‰κ°€ μ‹μ¤ν… κµ¬ν„
- β… API μ—”λ“ν¬μΈνΈ μ„¤κ³„

### Phase 2 (μ§„ν–‰ μμ •)
- [ ] Gemma 3 νμΈνλ‹ λ¨λΈ ν†µν•©
- [ ] Gemini β†’ Gemma κµμ²΄
- [ ] κ³ μ „λ¬Έν•™ λ°μ΄ν„°μ…‹ μ¤€λΉ„ (AI HUB 600κ°)
- [ ] μ†ν¬λΌν‹± λ€ν™” λ³€ν™ νμ΄ν”„λΌμΈ

### Phase 3 (ν–¥ν›„)
- [ ] κ³ κΈ‰ μ–Έμ–΄ λ¶„μ„ (Sentence-BERT, KcELECTRA)
- [ ] μ ν•΄ν‘ν„ AI λ¨λΈ ν†µν•©
- [ ] ν•™μµ νμ¤ν† λ¦¬ μ €μ¥
- [ ] κµμ‚¬μ© λ¦¬ν¬νΈ μƒμ„±

## π’΅ μ‚¬μ© κ°€μ΄λ“

### λΉ λ¥Έ μ‹μ‘

```bash
# 1. ν™κ²½ μ„¤μ •
cd backend
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# 2. ν™κ²½ λ³€μ μ„¤μ •
cp .env.example .env
# .env νμΌμ—μ„ GEMINI_API_KEY μ„¤μ •

# 3. μ„λ²„ μ‹¤ν–‰
python -m uvicorn app.main:app --reload --port 8000

# 4. API λ¬Έμ„ ν™•μΈ
# http://localhost:8000/docs
```

### API ν…μ¤νΈ μμ‹

```bash
# μ‚¬κ³ μ λ„ λ€ν™” μƒμ„±
curl -X POST "http://localhost:8000/classical-literature/dialogue" \
  -H "Content-Type: application/json" \
  -d '{
    "student_input": "μ¶ν–¥μ „μ—μ„ μ΄λ½λ£΅μ΄ μ‹ λ¶„μ„ μ¨κΈ΄ μ΄μ κ°€ λ­”κ°€μ”?",
    "work_title": "μ¶ν–¥μ „"
  }'

# μΆ…ν•© ν‰κ°€
curl -X POST "http://localhost:8000/classical-literature/evaluate" \
  -H "Content-Type: application/json" \
  -d '{
    "student_input": "μ΄λ½λ£΅μ€ μ§„μ •ν• μ‚¬λ‘μ„ ν™•μΈν•κ³ μ μ‹ λ¶„μ„ μ¨κ²Όμµλ‹λ‹¤...",
    "thought_log": "ν•™μƒμ΄ μΈλ¬Ό μ‹¬λ¦¬λ¥Ό λ¶„μ„..."
  }'
```

## π“ λ¬Έμ

λ³€κ²½ μ‚¬ν•­μ΄λ‚ κ°μ„  μ μ•μ΄ μμΌμ‹λ©΄ μ΄μ νΈλμ»¤λ¥Ό ν†µν•΄ μ•λ ¤μ£Όμ„Έμ”.

---

**λ¬Έμ„ μ‘μ„±μΌ:** 2026-02-05  
**λ°±μ—”λ“ λ²„μ „:** 2.0.0
